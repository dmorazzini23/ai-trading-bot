# Institutional Trading Platform Configuration
# This file contains production-ready configuration for institutional operations

# === DATABASE CONFIGURATION ===
# PostgreSQL connection for production
DATABASE_URL=postgresql://username:password@localhost:5432/trading_db

# SQLAlchemy settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# === REDIS CONFIGURATION ===
# Redis for caching and message queues
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password_here

# === CELERY CONFIGURATION ===
# Celery for background task processing
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# === RISK MANAGEMENT ===
# Portfolio risk limits
MAX_PORTFOLIO_RISK=0.02
MAX_POSITION_SIZE=0.10
MAX_DRAWDOWN_THRESHOLD=0.15
RISK_LEVEL=moderate  # conservative, moderate, aggressive

# Kelly Criterion parameters
KELLY_MIN_SAMPLE_SIZE=30
KELLY_MAX_FRACTION=0.25
KELLY_CONFIDENCE_LEVEL=0.95

# === EXECUTION PARAMETERS ===
# Order execution settings
MAX_SLIPPAGE_BPS=20
PARTICIPATION_RATE=0.10
ORDER_TIMEOUT_SECONDS=300
MAX_CONCURRENT_ORDERS=100

# === MONITORING ===
# Metrics and alerting
METRICS_RETENTION_DAYS=365
HEALTH_CHECK_INTERVAL=60
LOG_ROTATION_DAYS=30

# Prometheus metrics
PROMETHEUS_PORT=8000
PROMETHEUS_ENABLED=true

# === SECURITY ===
# API keys and credentials (use environment-specific values)
ALPACA_API_KEY=your_alpaca_api_key
ALPACA_SECRET_KEY=your_alpaca_secret_key
ALPACA_BASE_URL=https://paper-api.alpaca.markets  # Use https://api.alpaca.markets for live

# Data providers
FINNHUB_API_KEY=your_finnhub_api_key
YAHOO_FINANCE_ENABLED=true

# === LOGGING ===
# Structured logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=logs/trading.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10

# === SYSTEM LIMITS ===
# Resource constraints
MAX_MEMORY_USAGE_GB=8
MAX_CPU_USAGE_PERCENT=80
MAX_SYMBOLS_TRACKED=500
MAX_DAILY_TRADES=1000

# === STRATEGY CONFIGURATION ===
# Strategy parameters
STRATEGY_REBALANCE_FREQUENCY=21
STRATEGY_LOOKBACK_PERIODS=252
SIGNAL_CONFIDENCE_THRESHOLD=0.5

# === BACKUP AND RECOVERY ===
# Data backup settings
BACKUP_FREQUENCY_HOURS=6
BACKUP_RETENTION_DAYS=90
BACKUP_LOCATION=s3://your-backup-bucket/trading-backups

# === ENVIRONMENT ===
# Environment settings
ENVIRONMENT=production  # development, staging, production
DEBUG=false
TESTING=false

# === MARKET DATA ===
# Market data feed configuration
MARKET_DATA_PROVIDER=alpaca  # alpaca, finnhub, yahoo
DATA_FEED_TIMEOUT=30
MAX_DATA_AGE_MINUTES=5

# === NOTIFICATIONS ===
# Alert notifications
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_RECIPIENTS=admin@yourcompany.com,risk@yourcompany.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# SMS alerts for critical issues
ALERT_SMS_ENABLED=false
ALERT_SMS_PROVIDER=twilio
ALERT_SMS_NUMBERS=+1234567890

# === COMPLIANCE ===
# Regulatory compliance settings
COMPLIANCE_ENABLED=true
TRADE_REPORTING_ENABLED=true
AUDIT_LOG_RETENTION_YEARS=7

# Position limits for compliance
MAX_SINGLE_POSITION_VALUE=1000000
MAX_SECTOR_CONCENTRATION=0.15
MAX_CORRELATION_EXPOSURE=0.20

# === PERFORMANCE ===
# Performance optimization
ENABLE_PARALLEL_PROCESSING=true
PARALLEL_WORKERS=4
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300