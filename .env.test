# Test Environment Configuration
# This file provides all required environment variables for test execution

# Alpaca API Configuration (using test/paper trading format)
ALPACA_API_KEY=PKTEST1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ
ALPACA_SECRET_KEY=SKTEST1234567890ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCD
ALPACA_BASE_URL=https://paper-api.alpaca.markets
ALPACA_DATA_FEED=iex

# API Keys (test values)
FINNHUB_API_KEY=test_finnhub_key
NEWS_API_KEY=test_news_key
FUNDAMENTAL_API_KEY=test_fundamental_key
IEX_API_TOKEN=test_iex_token

# Flask and Webhook Configuration
FLASK_PORT=9000
WEBHOOK_SECRET=test-webhook-secret-for-testing
WEBHOOK_PORT=9000

# Trading Bot Configuration
BOT_MODE=balanced
MODEL_PATH=trained_model.pkl
HALT_FLAG_PATH=halt.flag
MAX_PORTFOLIO_POSITIONS=20
LIMIT_ORDER_SLIPPAGE=0.005
BUY_THRESHOLD=0.5
SLIPPAGE_THRESHOLD=0.003

# Health Check Configuration
HEALTHCHECK_PORT=8081
RUN_HEALTHCHECK=0
MIN_HEALTH_ROWS=30
MIN_HEALTH_ROWS_DAILY=5

# Trading Parameters
FORCE_TRADES=0
REBALANCE_INTERVAL_MIN=1440
SHADOW_MODE=true
DRY_RUN=true
DISABLE_DAILY_RETRAIN=true
TRADE_LOG_FILE=test_trades.csv

# Risk Management
DISASTER_DD_LIMIT=0.2
SECTOR_EXPOSURE_CAP=0.4
MAX_OPEN_POSITIONS=10
WEEKLY_DRAWDOWN_LIMIT=0.15
VOLUME_THRESHOLD=50000
DOLLAR_RISK_LIMIT=0.02
EQUITY_EXPOSURE_CAP=2.5
PORTFOLIO_EXPOSURE_CAP=2.5

# Model Paths
MODEL_RF_PATH=model_rf.pkl
MODEL_XGB_PATH=model_xgb.pkl
MODEL_LGB_PATH=model_lgb.pkl
RL_MODEL_PATH=rl_agent.zip
USE_RL_AGENT=false

# Rate Limiting
FINNHUB_RPM=60
MINUTE_CACHE_TTL=60
RATE_LIMIT_BUDGET=190

# Testing Flags
TESTING=1
PYTEST_RUNNING=1
MEMORY_OPTIMIZED=1
SCHEDULER_SLEEP_SECONDS=60
SEED=42

# Environment markers for specific test behavior
MAX_PORTFOLIO_POSITIONS=10
