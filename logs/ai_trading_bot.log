2025-06-18 19:36:51,278 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 19:36:51,643 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 19:36:51,652 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 19:36:51,698 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:14,078 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:14,213 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:14,390 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:14,414 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:53,365 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:53,566 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:53,614 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:14:53,629 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:35:05,023 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:35:05,210 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:35:05,212 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:35:05,275 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:50:10,802 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:50:10,815 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:50:10,864 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:50:10,891 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:54:04,180 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:54:04,319 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:54:04,348 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-18 20:54:04,384 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:25:11,299 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:25:11,383 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:25:11,386 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:25:11,393 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:26:15,448 ERROR server - Exception on /debug-sentry [GET]
Traceback (most recent call last):
  File "/root/ai-trading-bot/venv/lib/python3.12/site-packages/flask/app.py", line 2190, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/venv/lib/python3.12/site-packages/flask/app.py", line 1486, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/venv/lib/python3.12/site-packages/flask/app.py", line 1484, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/venv/lib/python3.12/site-packages/flask/app.py", line 1469, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/server.py", line 108, in trigger_error
    1 / 0  # This will raise a ZeroDivisionError and trigger Sentry error reporting
    ~~^~~
ZeroDivisionError: division by zero
2025-06-19 08:32:43,552 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:32:46,721 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 08:32:46,723 INFO bot - Trading mode is set to 'balanced'
2025-06-19 08:32:46,729 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 08:32:46,732 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 08:35:18,737 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:35:25,011 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 08:35:25,012 INFO bot - Trading mode is set to 'balanced'
2025-06-19 08:35:25,019 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 08:35:25,022 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 08:41:59,579 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:41:59,581 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:41:59,583 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:41:59,585 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:45:52,612 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 08:45:55,906 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 08:45:55,908 INFO bot - Trading mode is set to 'balanced'
2025-06-19 08:45:55,914 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 08:45:55,918 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 09:46:49,029 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 09:46:52,000 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 09:46:52,002 INFO bot - Trading mode is set to 'balanced'
2025-06-19 09:46:52,014 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 09:46:52,018 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 09:51:01,720 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 09:51:08,573 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 09:51:08,575 INFO bot - Trading mode is set to 'balanced'
2025-06-19 09:51:08,581 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 09:51:08,584 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 10:00:36,896 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 10:00:40,144 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 10:00:40,146 INFO bot - Trading mode is set to 'balanced'
2025-06-19 10:00:40,152 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 10:00:40,156 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 11:09:24,532 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:09:36,768 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:09:39,676 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 11:09:39,677 INFO bot - Trading mode is set to 'balanced'
2025-06-19 11:09:39,683 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 11:09:39,686 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 11:12:23,727 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:15:17,465 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:27:28,651 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:27:28,800 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:27:28,916 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:27:28,941 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:27:56,377 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:28:16,461 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:32:49,397 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:32:49,403 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:32:49,429 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 11:32:49,450 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:19:27,197 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:19:27,504 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:19:27,593 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:19:27,615 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:20:11,221 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:20:17,838 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 12:20:17,840 INFO bot - Trading mode is set to 'balanced'
2025-06-19 12:20:17,847 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 12:20:17,850 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 12:24:38,661 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 12:24:41,313 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 12:24:41,315 INFO bot - Trading mode is set to 'balanced'
2025-06-19 12:24:41,321 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 12:24:41,323 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 13:02:26,683 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:02:26,803 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:02:26,903 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:02:26,966 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:05:17,605 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:05:17,645 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:05:17,676 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:05:17,707 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:12:54,592 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:12:54,776 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:12:54,780 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:12:54,800 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:17:07,468 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:17:09,795 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 13:17:09,797 INFO bot - Trading mode is set to 'balanced'
2025-06-19 13:17:09,805 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 13:17:09,809 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 13:17:54,795 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 13:17:57,049 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 13:17:57,050 INFO bot - Trading mode is set to 'balanced'
2025-06-19 13:17:57,056 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 13:17:57,058 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 15:04:53,086 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:04:53,400 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:04:53,426 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:04:53,444 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:08:21,530 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:08:24,003 WARNING bot - FinBERT load failed (cannot import name 'HTTPError' from '<unknown module name>' (unknown location)); falling back to neutral sentiment
2025-06-19 15:08:24,005 INFO bot - Trading mode is set to 'balanced'
2025-06-19 15:08:24,012 WARNING utils - safe_to_datetime coercing invalid values – time data "0" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:08:24,015 WARNING bot - Failed to load regime model: No module named 'sklearn.ensemble._forest'; 'sklearn.ensemble' is not a package
2025-06-19 15:08:24,280 WARNING slippage - High slippage 2.00% on AAPL
2025-06-19 15:08:24,282 INFO alerts - Alert throttled: err
2025-06-19 15:08:54,285 ERROR alpaca_api - HTTPError in Alpaca submit_order: 500
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
test_alpaca_api_extended.HTTPError: 500
2025-06-19 15:08:54,287 ERROR alpaca_api - Unexpected error: err
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
Exception: err
2025-06-19 15:08:54,289 ERROR alpaca_api - Unexpected error: e1
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
Exception: e1
2025-06-19 15:08:54,289 ERROR alpaca_api - Unexpected error: e1
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
Exception: e1
2025-06-19 15:08:54,290 ERROR alpaca_api - Unexpected error: e1
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
Exception: e1
2025-06-19 15:08:54,290 ERROR alpaca_api - Unexpected error: e1
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
Exception: e1
2025-06-19 15:08:54,290 ERROR alpaca_api - Unexpected error: e1
Traceback (most recent call last):
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
  File "/root/ai-trading-bot/alpaca_api.py", line 111, in submit_order
    order = api.submit_order(order_data=req)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/tests/test_alpaca_api_extended.py", line 31, in submit_order
    raise exc
Exception: e1
2025-06-19 15:08:54,292 INFO alpaca_api - SHADOW_MODE: Would place order: AAPL 1 buy SimpleNamespace day
2025-06-19 15:08:54,293 WARNING alpaca_api - Rate limit hit for Alpaca order (attempt 1/5), sleeping 2s
2025-06-19 15:08:57,314 ERROR bot - fetch_minute_df_safe failed for AAPL: RetryError[<Future at 0x75d5ccbb01d0 state=finished raised TypeError>]
2025-06-19 15:08:57,343 WARNING utils - No market schedule for 2025-06-19 in is_market_open; returning False.
2025-06-19 15:08:57,344 INFO data_fetcher - MARKET_CLOSED_MINUTE_FETCH
2025-06-19 15:09:00,355 INFO data_fetcher - MARKET_CLOSED_MINUTE_FETCH
2025-06-19 15:09:00,363 INFO ml_model - MODEL_TRAIN_START
2025-06-19 15:09:00,364 INFO ml_model - MODEL_TRAIN_END
2025-06-19 15:09:00,365 INFO ml_model - MODEL_PREDICT
2025-06-19 15:09:00,380 ERROR meta_learning - Signal weight file missing: /tmp/pytest-of-root/pytest-28/test_load_weights_missing0/w.csv
2025-06-19 15:09:00,381 INFO meta_learning - Initialized default weights at /tmp/pytest-of-root/pytest-28/test_load_weights_missing0/w.csv
2025-06-19 15:09:00,384 INFO meta_learning - META_WEIGHTS_UPDATED
2025-06-19 15:09:00,385 INFO meta_learning - META_METRICS
2025-06-19 15:09:00,388 INFO meta_learning - META_WEIGHTS_UNCHANGED
2025-06-19 15:09:00,390 ERROR meta_learning - Failed to load signal weights: could not convert string 'bad' to float64 at row 0, column 1.
ValueError: could not convert string to float: 'bad'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/root/ai-trading-bot/meta_learning.py", line 31, in load_weights
    weights = np.loadtxt(p, delimiter=",")
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/venv/lib/python3.12/site-packages/numpy/lib/npyio.py", line 1373, in loadtxt
    arr = _read(fname, dtype=dtype, comment=comment, delimiter=delimiter,
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/ai-trading-bot/venv/lib/python3.12/site-packages/numpy/lib/npyio.py", line 1016, in _read
    arr = _load_from_filelike(
          ^^^^^^^^^^^^^^^^^^^^
ValueError: could not convert string 'bad' to float64 at row 0, column 1.
2025-06-19 15:09:00,394 INFO meta_learning - META_WEIGHTS_UPDATED
2025-06-19 15:09:00,395 ERROR meta_learning - Failed to read metric history: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
2025-06-19 15:09:00,395 INFO meta_learning - META_METRICS
2025-06-19 15:09:00,400 ERROR ml_model - NaN values detected in input
2025-06-19 15:09:00,403 INFO ml_model - MODEL_TRAIN_START
2025-06-19 15:09:00,403 INFO ml_model - MODEL_TRAIN_END
2025-06-19 15:09:00,404 INFO ml_model - MODEL_PREDICT
2025-06-19 15:09:00,404 INFO ml_model - MODEL_SAVED
2025-06-19 15:09:00,405 INFO ml_model - MODEL_LOADED
2025-06-19 15:09:00,408 ERROR ml_model - Model prediction failed: not fitted
2025-06-19 15:09:00,414 ERROR ml_model - NaN values detected in input
2025-06-19 15:09:00,456 ERROR risk_engine - Invalid cash 0.00 or price 100.00 for position sizing
2025-06-19 15:09:00,458 ERROR risk_engine - Invalid cash -1000.00 or price 100.00 for position sizing
2025-06-19 15:09:00,466 INFO risk_engine - Trade blocked: equity exposure 1.60 exceeds cap 0.50
2025-06-19 15:09:00,469 ERROR risk_engine - HARD_STOP_MAX_DRAWDOWN
2025-06-19 15:09:00,471 WARNING risk_engine - Empty or invalid returns series—skipping risk computation
2025-06-19 15:09:00,472 ERROR risk_engine - TRADING_HALTED_RISK_LIMIT
2025-06-19 15:09:00,472 ERROR risk_engine - HARD_STOP_ACTIVE
2025-06-19 15:09:00,484 INFO execution - SLIPPAGE
2025-06-19 15:09:00,497 WARNING utils - _safe_get_column failed for datetime: datetime: column 'Datetime' is not of dtype datetime64[ns], got int64
2025-06-19 15:09:00,499 WARNING utils - _safe_get_column failed for datetime: datetime: column 'datetime' is not monotonic increasing
2025-06-19 15:09:00,500 WARNING utils - _safe_get_column failed for datetime: datetime: column 'datetime' is not timezone-aware
2025-06-19 15:09:00,504 WARNING utils - _safe_get_column failed for symbol: symbol: column 'symbol' is not unique
2025-06-19 15:09:00,507 WARNING utils - _safe_get_column failed for return: return: column 'Return' is all null
2025-06-19 15:09:00,509 WARNING utils - _safe_get_column failed for indicator: No recognized indicator column found in DataFrame: ['SMA', 'ema', 'RSI']
2025-06-19 15:09:00,512 WARNING utils - _safe_get_column failed for order/OrderID: order/OrderID: column 'OrderID' is all null
2025-06-19 15:09:00,514 WARNING utils - safe_to_datetime coercing invalid values – time data "notadate" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:09:00,560 WARNING utils - safe_to_datetime coercing invalid values – time data "2024-01-01" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:09:00,561 WARNING utils - safe_to_datetime coercing invalid values – time data "abc" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:09:00,563 WARNING utils - safe_to_datetime coercing invalid values – time data "1700000000" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:09:00,564 WARNING utils - safe_to_datetime coercing invalid values – time data "1700000000000" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:09:00,564 WARNING utils - safe_to_datetime coercing invalid values – time data "2024-01-01T00:00:00Z" doesn't match format "%Y-%m-%d %H:%M:%S", at position 0. You might want to try:
    - passing `format` if your strings have a consistent format;
    - passing `format='ISO8601'` if your strings are all ISO8601 but not necessarily in exactly the same format;
    - passing `format='mixed'`, and the format will be inferred for each element individually. You might want to use `dayfirst` alongside this.
2025-06-19 15:13:49,002 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:13:49,008 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:13:49,068 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:13:49,098 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:26:13,489 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:26:13,508 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:26:13,539 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:26:13,558 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:29:31,539 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:29:31,637 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:29:31,733 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
2025-06-19 15:29:31,745 INFO root - Logging initialized. Writing logs to logs/ai_trading_bot.log
