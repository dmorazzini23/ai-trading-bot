[pytest]
markers =
    benchmark: benchmark tests
    slow: slow running tests  
    smoke: smoke tests
    integration: integration tests
addopts = -ra --disable-warnings -m "not slow" --maxfail=5 --tb=short
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = auto
# Filter warnings to reduce noise - comprehensive list for AI trading bot
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::FutureWarning
    # pandas and numpy warnings (use message patterns to avoid import issues)
    ignore:.*PerformanceWarning.*:UserWarning
    ignore:.*SettingWithCopyWarning.*:UserWarning
    ignore:.*VisibleDeprecationWarning.*:UserWarning
    ignore:.*RuntimeWarning.*:RuntimeWarning
    # sklearn warnings (generic patterns)
    ignore:.*ConvergenceWarning.*:UserWarning
    ignore:.*InconsistentVersionWarning.*:UserWarning
    ignore:.*Incremental learning.*:UserWarning
    ignore:.*n_jobs.*:UserWarning
    # Library-specific warnings we've already identified in the codebase
    ignore:.*pkg_resources is deprecated as an API.*:UserWarning
    ignore:.*invalid escape sequence.*:SyntaxWarning
    ignore:.*_register_pytree_node.*::
    ignore:.*Converting to PeriodArray/Index.*:UserWarning
    ignore:.*valid feature names.*:UserWarning
    # Trading/financial library warnings
    ignore:.*yfinance.*:FutureWarning
    ignore:.*alpha_vantage.*:UserWarning
    ignore:.*alpaca.*:UserWarning
    ignore::UserWarning:finnhub
    ignore::UserWarning:alpaca_trade_api
    # ML and statistical warnings
    ignore:.*convergence.*:UserWarning
    ignore:.*numerical precision.*:RuntimeWarning
    ignore:.*divide by zero.*:RuntimeWarning
    ignore:.*invalid value.*:RuntimeWarning
    ignore:.*LightGBMError.*:UserWarning
    ignore::UserWarning:lightgbm
    ignore::UserWarning:transformers
    ignore::UserWarning:torch
    # matplotlib and plotting warnings
    ignore::UserWarning:matplotlib
    ignore:.*GUI.*:UserWarning
    # Network and HTTP warnings
    ignore:.*InsecureRequestWarning.*:UserWarning
    ignore:.*urllib3.*:UserWarning
    ignore:.*requests.*:UserWarning
    # setuptools and packaging warnings
    ignore:.*pkg_resources.*:DeprecationWarning
    ignore:.*easy_install.*:DeprecationWarning
    ignore:.*distutils.*:DeprecationWarning
    # Date/time warnings
    ignore:.*utcfromtimestamp.*:DeprecationWarning
    ignore:.*utcnow.*:DeprecationWarning
    # pandas_ta specific warnings  
    ignore::UserWarning:pandas_ta
    ignore::FutureWarning:pandas_ta
    # HMM and statsmodels warnings
    ignore::UserWarning:hmmlearn
    ignore::UserWarning:statsmodels
    ignore:.*chain.*:FutureWarning
    # General scientific computing warnings
    ignore:.*dtype.*:UserWarning
    ignore:.*array.*:RuntimeWarning
    ignore:.*overflow.*:RuntimeWarning
    ignore:.*underflow.*:RuntimeWarning
    ignore:.*precision.*:RuntimeWarning
    ignore:.*scipy.*:UserWarning
    ignore:.*scikit.*:UserWarning
    ignore:.*joblib.*:UserWarning
